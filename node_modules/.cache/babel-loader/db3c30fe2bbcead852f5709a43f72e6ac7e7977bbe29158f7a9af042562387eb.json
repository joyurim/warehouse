{"ast":null,"code":"import { defineComponent } from 'vue';\nexport default defineComponent({\n  name: \"RecommendProduct\",\n  data() {\n    return {\n      shouldRender: false,\n      hasError: false,\n      itemId: '',\n      recentItem: {}\n    };\n  },\n  mounted() {\n    if (this.itemId) {\n      console.log('?');\n    } else {\n      this.shouldRender = true;\n    }\n  },\n  methods: {\n    async fetchRecentData(itemid) {\n      const sessionId = TenbytenToken.getUserKey();\n      const tokenData = localStorage.getItem('tenbytenToken');\n      const parsed = JSON.parse(tokenData);\n      const accessToken = parsed.accessToken;\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      if (this.isLoginCheck) {\n        headers['session-id'] = sessionId;\n      } else {\n        headers['Authorization'] = accessToken;\n      }\n      try {\n        const response = await fetch(`@/mockup/work/recentItem.json`, {\n          method: 'GET'\n        });\n        if (response.ok) {\n          const json = await response.json();\n          if (json.status === 200 && json.message === 'success') {\n            this.recentItem = json.result;\n          } else {\n            this.hasError = true;\n          }\n          this.shouldRender = true;\n        } else {\n          this.hasError = true;\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","name","data","shouldRender","hasError","itemId","recentItem","mounted","console","log","methods","fetchRecentData","itemid","sessionId","TenbytenToken","getUserKey","tokenData","localStorage","getItem","parsed","JSON","parse","accessToken","headers","isLoginCheck","response","fetch","method","ok","json","status","message","result","e","error"],"sources":["/Users/10x10/Desktop/yurim/warehouse/src/components/work/RecommendProduct.vue"],"sourcesContent":["<template>\n  <section v-if=\"shouldRender\">\n    <div v-if=\"hasError\" class=\"error\">\n      <div class=\"imageContainer\">\n        <img src=\"@/assets/common/img__error.svg\" alt=\"error\" />\n      </div>\n      <p class=\"errorMessage\">요청하신 페이지를 찾을 수 없습니다.</p>\n      <button type=\"button\" class=\"btnHome\">\n        <router-link to=\"/\">홈으로가기</router-link>\n      </button>\n    </div>\n    <div v-else ref=\"recommend\" class=\"recommend\">\n      <section class=\"recentContainer\">\n        <h1 class=\"recommendTitle\">고객님이<br/>방금 본 상품이에요!</h1>\n        <div class=\"recentProduct\">\n          <figure class=\"thumbnail\">\n            <img :src=\"recentItem.image\" :alt=\"recentItem.name\">\n          </figure>\n          <div class=\"recentProductInfo\">\n            <p class=\"brand\">{{recentItem.brandName}}</p>\n            <p class=\"name\">{{recentItem.name}}</p>\n            <p v-if=\"recentItem.discountText\" class=\"originPrice\">{{toLocaleKr(recentItem.originPrice)}}</p>\n            <p class=\"priceBox\">\n              <span v-if=\"recentItem.discountText\" class=\"percent\">{{recentItem.discountText}}</span>\n              <span class=\"price\">{{toLocaleKr(recentItem.price)}}</span>\n            </p>\n            <div v-if=\"recentItem.reviewCount\" class=\"review\">\n              <div class=\"reviewEval\">\n                <span class=\"reviewEvalSpriteRating\" :style=\"'width:' + (recentItem.reviewScore*20) + '%;'\" />\n              </div>\n              <span class=\"reviewCount\">\n                               {{toLocaleKr(recentItem.reviewCount)}}\n                            </span>\n            </div>\n            <p v-if=\"recentItem.reviewCount\" class=\"reviewComment\">\n              {{recentItem.reviewComment}}\n            </p>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btnRecentMore\" @click=\"moveToTopItem(recentItem.itemid)\">자세히 보기</button>\n      </section>\n    </div>\n  </section>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\n\nexport default defineComponent({\n  name: \"RecommendProduct\",\n  data() {\n    return {\n      shouldRender: false,\n      hasError: false,\n      itemId: '',\n      recentItem: {},\n    }\n  },\n  mounted() {\n    if(this.itemId) {\n      console.log('?')\n    } else {\n      this.shouldRender = true\n    }\n  },\n  methods: {\n      async fetchRecentData(itemid) {\n        const sessionId = TenbytenToken.getUserKey();\n        const tokenData = localStorage.getItem('tenbytenToken');\n        const parsed = JSON.parse(tokenData);\n        const accessToken = parsed.accessToken;\n\n        const headers = {\n          'Content-Type': 'application/json',\n        };\n        if (this.isLoginCheck) {\n          headers['session-id'] = sessionId;\n        } else {\n          headers['Authorization'] = accessToken;\n        }\n\n        try {\n          const response = await fetch(`@/mockup/work/recentItem.json`, {\n            method: 'GET',\n          });\n\n          if(response.ok) {\n            const json = await response.json();\n            if(json.status === 200 && json.message === 'success') {\n              this.recentItem = json.result;\n            }else {\n              this.hasError = true;\n            }\n            this.shouldRender = true;\n          } else {\n            this.hasError = true;\n          }\n        } catch (e) {\n          console.error(e);\n        }\n    }\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n"],"mappings":"AA8CA,SAAQA,eAAe,QAAO,KAAI;AAElC,eAAeA,eAAe,CAAC;EAC7BC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,KAAK;MACnBC,QAAQ,EAAE,KAAK;MACfC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE,CAAC;IACf;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAG,IAAI,CAACF,MAAM,EAAE;MACdG,OAAO,CAACC,GAAG,CAAC,GAAG;IACjB,OAAO;MACL,IAAI,CAACN,YAAW,GAAI,IAAG;IACzB;EACF,CAAC;EACDO,OAAO,EAAE;IACL,MAAMC,eAAeA,CAACC,MAAM,EAAE;MAC5B,MAAMC,SAAQ,GAAIC,aAAa,CAACC,UAAU,CAAC,CAAC;MAC5C,MAAMC,SAAQ,GAAIC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;MACvD,MAAMC,MAAK,GAAIC,IAAI,CAACC,KAAK,CAACL,SAAS,CAAC;MACpC,MAAMM,WAAU,GAAIH,MAAM,CAACG,WAAW;MAEtC,MAAMC,OAAM,GAAI;QACd,cAAc,EAAE;MAClB,CAAC;MACD,IAAI,IAAI,CAACC,YAAY,EAAE;QACrBD,OAAO,CAAC,YAAY,IAAIV,SAAS;MACnC,OAAO;QACLU,OAAO,CAAC,eAAe,IAAID,WAAW;MACxC;MAEA,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMC,KAAK,CAAC,+BAA+B,EAAE;UAC5DC,MAAM,EAAE;QACV,CAAC,CAAC;QAEF,IAAGF,QAAQ,CAACG,EAAE,EAAE;UACd,MAAMC,IAAG,GAAI,MAAMJ,QAAQ,CAACI,IAAI,CAAC,CAAC;UAClC,IAAGA,IAAI,CAACC,MAAK,KAAM,GAAE,IAAKD,IAAI,CAACE,OAAM,KAAM,SAAS,EAAE;YACpD,IAAI,CAACzB,UAAS,GAAIuB,IAAI,CAACG,MAAM;UAC/B,CAAC,MAAK;YACJ,IAAI,CAAC5B,QAAO,GAAI,IAAI;UACtB;UACA,IAAI,CAACD,YAAW,GAAI,IAAI;QAC1B,OAAO;UACL,IAAI,CAACC,QAAO,GAAI,IAAI;QACtB;MACF,EAAE,OAAO6B,CAAC,EAAE;QACVzB,OAAO,CAAC0B,KAAK,CAACD,CAAC,CAAC;MAClB;IACJ;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}