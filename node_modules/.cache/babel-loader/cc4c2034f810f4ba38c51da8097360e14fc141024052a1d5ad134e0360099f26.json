{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IntroTwentySecond = _resolveComponent(\"IntroTwentySecond\");\n  const _component_BenefitComponent = _resolveComponent(\"BenefitComponent\");\n  const _component_SpecialPrice = _resolveComponent(\"SpecialPrice\");\n  const _component_EventList22nd = _resolveComponent(\"EventList22nd\");\n  return _openBlock(), _createElementBlock(\"main\", {\n    class: \"year22\",\n    id: \"year22\",\n    onScroll: _cache[0] || (_cache[0] = $event => console.log('call'))\n  }, [_createVNode(_component_IntroTwentySecond), _createVNode(_component_BenefitComponent, {\n    onMoveToSection: _ctx.moveToSection\n  }, null, 8 /* PROPS */, [\"onMoveToSection\"]), _createElementVNode(\"ul\", {\n    ref: \"tabs\",\n    class: _normalizeClass([\"tabs\", {\n      'sticky': _ctx.isSticky\n    }])\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.tabs, (tab, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      class: _normalizeClass({\n        'is-active': _ctx.currentTab === tab.nameEng\n      }),\n      onClick: $event => _ctx.moveToSection(tab.nameEng)\n    }, _toDisplayString(tab.nameKo), 11 /* TEXT, CLASS, PROPS */, _hoisted_1);\n  }), 128 /* KEYED_FRAGMENT */))], 2 /* CLASS */), _createVNode(_component_SpecialPrice, {\n    id: \"special\"\n  }), _createVNode(_component_EventList22nd, {\n    ref: \"eventList22nd\",\n    id: \"event\"\n  }, null, 512 /* NEED_PATCH */)], 32 /* NEED_HYDRATION */);\n}","map":{"version":3,"names":["_createElementBlock","class","id","onScroll","_cache","$event","console","log","_createVNode","_component_IntroTwentySecond","_component_BenefitComponent","onMoveToSection","_ctx","moveToSection","_createElementVNode","ref","_normalizeClass","isSticky","_Fragment","_renderList","tabs","tab","index","key","currentTab","nameEng","onClick","nameKo","_hoisted_1","_component_SpecialPrice","_component_EventList22nd"],"sources":["/Users/10x10/Desktop/yurim/warehouse/src/components/work/22ndSale/TenTenSale.vue"],"sourcesContent":["<template>\n  <main class=\"year22\" id=\"year22\" @scroll=\"console.log('call')\">\n    <IntroTwentySecond />\n    <BenefitComponent @moveToSection=\"moveToSection\" />\n    <ul ref=\"tabs\" class=\"tabs\" :class=\"{'sticky': isSticky}\">\n      <li\n          v-for=\"(tab, index) in tabs\"\n          :key=\"index\"\n          :class=\"{'is-active': currentTab === tab.nameEng}\"\n          @click=\"moveToSection(tab.nameEng)\"\n      >\n        {{tab.nameKo}}\n      </li>\n    </ul>\n    <SpecialPrice id=\"special\" />\n    <EventList22nd ref=\"eventList22nd\" id=\"event\" />\n  </main>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\nimport IntroTwentySecond from '@/components/work/22ndSale/IntroTwentySecond.vue';\nimport BenefitComponent from '@/components/work/22ndSale/Benefit.vue';\nimport SpecialPrice from '@/components/work/22ndSale/SpecialPrice.vue';\nimport EventList22nd from '@/components/work/22ndSale/EventList22nd.vue';\nexport default defineComponent({\n  name: \"TenTenSale\",\n  components: {\n    IntroTwentySecond,\n    BenefitComponent,\n    SpecialPrice,\n    EventList22nd\n  },\n  data() {\n    return {\n      tabs: [\n        { nameKo: '특가', nameEng: 'special' },\n        { nameKo: '혜택 이벤트', nameEng: 'event' },\n      ],\n      currentTab: 'special',\n      scrollTimer: null,\n      isSticky: false,\n      tabsOffsetTop: 0\n    };\n  },\n  created() {\n    // 스크롤 이벤트 리스너 설정\n    // window.addEventListener('scroll', this.checkSticky);\n  },\n  mounted() {\n    const options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n    this.observer = new IntersectionObserver(this.handleScroll, options);\n    this.tabs.forEach(tab => {\n      const element = document.getElementById(tab.nameEng);\n      if (element) {\n        this.observer.observe(element);\n      }\n    });\n\n    this.$nextTick(() => {\n      this.tabsOffsetTop = this.$refs.tabs.offsetTop;\n\n      const container = document.getElementById('year22')\n      if (container) {\n        // container.addEventListener('scroll', (e) => {\n        //   console.log(e)\n        // })\n      }\n\n    });\n  },\n  beforeUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n\n    // window.removeEventListener('scroll', this.checkSticky);\n  },\n  methods: {\n    checkSticky() {\n      console.log('?!')\n      const tabsElement = this.$refs.tabs;\n      this.tabsOffsetTop = tabsElement.getBoundingClientRect().top + window.scrollY;\n      this.isSticky = window.scrollY >= this.tabsOffsetTop;\n    },\n    moveToSection(targetId) {\n      const element = document.getElementById(targetId);\n      if (element) {\n        element.scrollIntoView({ behavior: 'smooth' });\n      }\n    },\n    handleScroll(entries) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.currentTab = entry.target.id;\n        }\n      });\n    }\n  },\n})\n</script>\n\n\n<style lang=\"scss\">\n@import \"@/styles/work/tentensSale.scss\";\n</style>\n"],"mappings":";mBAAA;;;;;;uBACEA,mBAAA,CAeO;IAfDC,KAAK,EAAC,QAAQ;IAACC,EAAE,EAAC,QAAQ;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,OAAO,CAACC,GAAG;MACnDC,YAAA,CAAqBC,4BAAA,GACrBD,YAAA,CAAmDE,2BAAA;IAAhCC,eAAa,EAAEC,IAAA,CAAAC;EAAa,8CAC/CC,mBAAA,CASK;IATDC,GAAG,EAAC,MAAM;IAACd,KAAK,EAJxBe,eAAA,EAIyB,MAAM;MAAA,UAAoBJ,IAAA,CAAAK;IAAQ;yBACrDjB,mBAAA,CAOKkB,SAAA,QAZXC,WAAA,CAMiCP,IAAA,CAAAQ,IAAI,EANrC,CAMkBC,GAAG,EAAEC,KAAK;yBADtBtB,mBAAA,CAOK;MALAuB,GAAG,EAAED,KAAK;MACVrB,KAAK,EARhBe,eAAA;QAAA,aAQgCJ,IAAA,CAAAY,UAAU,KAAKH,GAAG,CAACI;MAAO;MAC/CC,OAAK,EAAArB,MAAA,IAAEO,IAAA,CAAAC,aAAa,CAACQ,GAAG,CAACI,OAAO;wBAEjCJ,GAAG,CAACM,MAAM,gCAXpBC,UAAA;mDAcIpB,YAAA,CAA6BqB,uBAAA;IAAf3B,EAAE,EAAC;EAAS,IAC1BM,YAAA,CAAgDsB,wBAAA;IAAjCf,GAAG,EAAC,eAAe;IAACb,EAAE,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}