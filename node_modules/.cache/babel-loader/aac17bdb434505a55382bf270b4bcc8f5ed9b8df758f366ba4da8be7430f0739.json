{"ast":null,"code":"import { defineComponent } from 'vue';\nexport default defineComponent({\n  name: \"RecommendProduct\",\n  data() {\n    return {\n      shouldRender: false,\n      hasError: false,\n      itemId: '',\n      recentItem: {\n        name: \"마이 디어 워셔블 13mm 무지 포인트 사계절 원형 러그\",\n        brandName: \"thefrigg\",\n        brandId: \"thefrigg\",\n        discountText: null,\n        image: \"https://webimage.10x10.co.kr/image/basic600/454/B004549611.jpg\",\n        isCoupon: \"Y\",\n        isDiscount: \"N\",\n        itemId: 4549611,\n        originPrice: 47500,\n        price: 47500,\n        reviewCount: 0,\n        reviewScore: \"0.00\",\n        secretCoupon: {\n          estimatedAmount: 23750,\n          couponId: 4090,\n          couponName: \"test 할인의 참견 시크릿 쿠폰 2\",\n          discountAmount: 23750\n        }\n      }\n    };\n  },\n  async mounted() {\n    if (this.recentItem.itemId) {\n      await this.fetchRecentData();\n    } else {\n      this.shouldRender = true;\n    }\n  },\n  methods: {\n    async fetchRecentData() {\n      try {\n        const response = await fetch('http://localhost:8080/mockup/work/recentItem.json');\n        if (response.ok) {\n          const json = await response.json();\n          if (json.status === 200 && json.message === 'success') {\n            this.recentItem = json.result;\n          } else {\n            this.hasError = true;\n          }\n          this.shouldRender = true;\n        } else {\n          this.hasError = true;\n        }\n      } catch (e) {\n        console.error(e);\n        this.hasError = true;\n      }\n    },\n    numberFormat(price) {\n      const floorPrice = Math.floor(price);\n      return floorPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n    moveToLink(code) {\n      let url = '';\n      url = `https://m.10x10.co.kr/category/category_itemPrd.asp?itemid=${code}`;\n      return location.href = url;\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","name","data","shouldRender","hasError","itemId","recentItem","brandName","brandId","discountText","image","isCoupon","isDiscount","originPrice","price","reviewCount","reviewScore","secretCoupon","estimatedAmount","couponId","couponName","discountAmount","mounted","fetchRecentData","methods","response","fetch","ok","json","status","message","result","e","console","error","numberFormat","floorPrice","Math","floor","toString","replace","moveToLink","code","url","location","href"],"sources":["/Users/10x10/Desktop/yurim/warehouse/src/components/work/RecommendProduct.vue"],"sourcesContent":["<template>\n  <section v-if=\"shouldRender\">\n    <div v-if=\"hasError\" class=\"error\">\n      <div class=\"imageContainer\">\n        <img src=\"@/assets/common/img__error.svg\" alt=\"error\" />\n      </div>\n      <p class=\"errorMessage\">요청하신 페이지를 찾을 수 없습니다.</p>\n      <button type=\"button\" class=\"btnHome\">\n        <router-link to=\"/\">홈으로가기</router-link>\n      </button>\n    </div>\n    <div v-else ref=\"recommend\" class=\"recommend\">\n      <section class=\"recentContainer\">\n        <h1 class=\"recommendTitle\">고객님이<br/>방금 본 상품이에요!</h1>\n        <div class=\"recentProduct\">\n          <figure class=\"thumbnail\">\n            <img :src=\"recentItem.image\" :alt=\"recentItem.name\">\n          </figure>\n          <div class=\"recentProductInfo\">\n            <p class=\"brand\">{{recentItem.brandName}}</p>\n            <p class=\"name\">{{recentItem.name}}</p>\n            <p v-if=\"recentItem.discountText\" class=\"originPrice\">{{numberFormat(recentItem.originPrice)}}</p>\n            <p class=\"priceBox\">\n              <span v-if=\"recentItem.discountText\" class=\"percent\">{{recentItem.discountText}}</span>\n              <span class=\"price\">{{numberFormat(recentItem.price)}}</span>\n            </p>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btnRecentMore\" @click=\"moveToLink(recentItem.itemid)\">자세히 보기</button>\n      </section>\n    </div>\n  </section>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\n\nexport default defineComponent({\n  name: \"RecommendProduct\",\n  data() {\n    return {\n      shouldRender: false,\n      hasError: false,\n      itemId: '',\n      recentItem: {\n        name: \"마이 디어 워셔블 13mm 무지 포인트 사계절 원형 러그\",\n        brandName: \"thefrigg\",\n        brandId: \"thefrigg\",\n        discountText: null,\n        image: \"https://webimage.10x10.co.kr/image/basic600/454/B004549611.jpg\",\n        isCoupon: \"Y\", isDiscount: \"N\",\n        itemId: 4549611,\n        originPrice: 47500,\n        price: 47500,\n        reviewCount: 0,\n        reviewScore: \"0.00\",\n        secretCoupon: {\n          estimatedAmount: 23750,\n          couponId: 4090,\n          couponName: \"test 할인의 참견 시크릿 쿠폰 2\",\n          discountAmount: 23750\n        },\n      },\n    }\n  },\n  async mounted() {\n    if(this.recentItem.itemId) {\n      await this.fetchRecentData()\n    } else {\n      this.shouldRender = true\n    }\n  },\n  methods: {\n    async fetchRecentData() {\n        try {\n          const response = await fetch('http://localhost:8080/mockup/work/recentItem.json');\n          if (response.ok) {\n            const json = await response.json();\n            if (json.status === 200 && json.message === 'success') {\n              this.recentItem = json.result;\n            } else {\n              this.hasError = true;\n            }\n            this.shouldRender = true;\n          } else {\n            this.hasError = true;\n          }\n        } catch (e) {\n          console.error(e);\n          this.hasError = true;\n        }\n    },\n    numberFormat(price) {\n      const floorPrice = Math.floor(price);\n      return floorPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n    moveToLink(code) {\n      let url = '';\n      url = `https://m.10x10.co.kr/category/category_itemPrd.asp?itemid=${code}`;\n      return location.href = url;\n    },\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n"],"mappings":"AAmCA,SAAQA,eAAe,QAAO,KAAI;AAElC,eAAeA,eAAe,CAAC;EAC7BC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,KAAK;MACnBC,QAAQ,EAAE,KAAK;MACfC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE;QACVL,IAAI,EAAE,iCAAiC;QACvCM,SAAS,EAAE,UAAU;QACrBC,OAAO,EAAE,UAAU;QACnBC,YAAY,EAAE,IAAI;QAClBC,KAAK,EAAE,gEAAgE;QACvEC,QAAQ,EAAE,GAAG;QAAEC,UAAU,EAAE,GAAG;QAC9BP,MAAM,EAAE,OAAO;QACfQ,WAAW,EAAE,KAAK;QAClBC,KAAK,EAAE,KAAK;QACZC,WAAW,EAAE,CAAC;QACdC,WAAW,EAAE,MAAM;QACnBC,YAAY,EAAE;UACZC,eAAe,EAAE,KAAK;UACtBC,QAAQ,EAAE,IAAI;UACdC,UAAU,EAAE,sBAAsB;UAClCC,cAAc,EAAE;QAClB;MACF;IACF;EACF,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACd,IAAG,IAAI,CAAChB,UAAU,CAACD,MAAM,EAAE;MACzB,MAAM,IAAI,CAACkB,eAAe,CAAC;IAC7B,OAAO;MACL,IAAI,CAACpB,YAAW,GAAI,IAAG;IACzB;EACF,CAAC;EACDqB,OAAO,EAAE;IACP,MAAMD,eAAeA,CAAA,EAAG;MACpB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMC,KAAK,CAAC,mDAAmD,CAAC;QACjF,IAAID,QAAQ,CAACE,EAAE,EAAE;UACf,MAAMC,IAAG,GAAI,MAAMH,QAAQ,CAACG,IAAI,CAAC,CAAC;UAClC,IAAIA,IAAI,CAACC,MAAK,KAAM,GAAE,IAAKD,IAAI,CAACE,OAAM,KAAM,SAAS,EAAE;YACrD,IAAI,CAACxB,UAAS,GAAIsB,IAAI,CAACG,MAAM;UAC/B,OAAO;YACL,IAAI,CAAC3B,QAAO,GAAI,IAAI;UACtB;UACA,IAAI,CAACD,YAAW,GAAI,IAAI;QAC1B,OAAO;UACL,IAAI,CAACC,QAAO,GAAI,IAAI;QACtB;MACF,EAAE,OAAO4B,CAAC,EAAE;QACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;QAChB,IAAI,CAAC5B,QAAO,GAAI,IAAI;MACtB;IACJ,CAAC;IACD+B,YAAYA,CAACrB,KAAK,EAAE;MAClB,MAAMsB,UAAS,GAAIC,IAAI,CAACC,KAAK,CAACxB,KAAK,CAAC;MACpC,OAAOsB,UAAU,CAACG,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;IACpE,CAAC;IACDC,UAAUA,CAACC,IAAI,EAAE;MACf,IAAIC,GAAE,GAAI,EAAE;MACZA,GAAE,GAAI,8DAA8DD,IAAI,EAAE;MAC1E,OAAOE,QAAQ,CAACC,IAAG,GAAIF,GAAG;IAC5B;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}