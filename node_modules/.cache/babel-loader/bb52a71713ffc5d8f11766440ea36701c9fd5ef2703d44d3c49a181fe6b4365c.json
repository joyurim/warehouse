{"ast":null,"code":"import { defineComponent } from 'vue';\nimport IntroTwentySecond from '@/components/work/22ndSale/IntroTwentySecond.vue';\nimport BenefitComponent from '@/components/work/22ndSale/Benefit.vue';\nimport SpecialPrice from '@/components/work/22ndSale/SpecialPrice.vue';\nimport EventList22nd from '@/components/work/22ndSale/EventList22nd.vue';\nexport default defineComponent({\n  name: \"TenTenSale\",\n  components: {\n    IntroTwentySecond,\n    BenefitComponent,\n    SpecialPrice,\n    EventList22nd\n  },\n  data() {\n    return {\n      tabs: [{\n        nameKo: '특가',\n        nameEng: 'special'\n      }, {\n        nameKo: '혜택 이벤트',\n        nameEng: 'event'\n      }],\n      currentTab: 'special',\n      scrollTimer: null,\n      isSticky: false,\n      tabsOffsetTop: 0,\n      modalBody: null\n    };\n  },\n  mounted() {\n    const options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n    this.observer = new IntersectionObserver(this.handleScroll, options);\n    this.tabs.forEach(tab => {\n      const element = document.getElementById(tab.nameEng);\n      if (element) {\n        this.observer.observe(element);\n      }\n    });\n    const modalBodyElements = document.getElementsByClassName('modal__body');\n    if (modalBodyElements.length > 0) {\n      this.modalBody = modalBodyElements[0];\n      this.modalBody.addEventListener('scroll', this.checkSticky);\n      this.$nextTick(() => {\n        const tabsElement = this.$refs.tabs;\n        this.tabsOffsetTop = tabsElement.getBoundingClientRect().top + this.modalBody.scrollTop;\n      });\n    }\n  },\n  beforeUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    if (this.modalBody) {\n      this.modalBody.removeEventListener('scroll', this.checkSticky);\n    }\n  },\n  methods: {\n    checkSticky() {\n      if (!this.modalBody) return;\n      console.log(this.isSticky);\n      const tabsElement = this.$refs.tabs;\n      // console.log(window.scrollY, '>=', tabsElement.offsetTop)\n      console.log(window);\n      if (window >= tabsElement.offsetTop) {\n        this.isSticky = true;\n      } else {\n        this.isSticky = false;\n      }\n    },\n    moveToSection(targetId) {\n      const element = document.getElementById(targetId);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth'\n        });\n      }\n    },\n    handleScroll(entries) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.currentTab = entry.target.id;\n        }\n      });\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","IntroTwentySecond","BenefitComponent","SpecialPrice","EventList22nd","name","components","data","tabs","nameKo","nameEng","currentTab","scrollTimer","isSticky","tabsOffsetTop","modalBody","mounted","options","root","rootMargin","threshold","observer","IntersectionObserver","handleScroll","forEach","tab","element","document","getElementById","observe","modalBodyElements","getElementsByClassName","length","addEventListener","checkSticky","$nextTick","tabsElement","$refs","getBoundingClientRect","top","scrollTop","beforeUnmount","disconnect","removeEventListener","methods","console","log","window","offsetTop","moveToSection","targetId","scrollIntoView","behavior","entries","entry","isIntersecting","target","id"],"sources":["/Users/10x10/Desktop/yurim/warehouse/src/components/work/22ndSale/TenTenSale.vue"],"sourcesContent":["<template>\n  <main class=\"year22\">\n    <IntroTwentySecond />\n    <BenefitComponent @moveToSection=\"moveToSection\" />\n    <ul ref=\"tabs\" class=\"tabs\" :class=\"{'sticky': isSticky}\">\n      <li\n          v-for=\"(tab, index) in tabs\"\n          :key=\"index\"\n          :class=\"{'is-active': currentTab === tab.nameEng}\"\n          @click=\"moveToSection(tab.nameEng)\"\n      >\n        {{tab.nameKo}}\n      </li>\n    </ul>\n    <SpecialPrice id=\"special\" />\n    <EventList22nd ref=\"eventList22nd\" id=\"event\" />\n  </main>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\nimport IntroTwentySecond from '@/components/work/22ndSale/IntroTwentySecond.vue';\nimport BenefitComponent from '@/components/work/22ndSale/Benefit.vue';\nimport SpecialPrice from '@/components/work/22ndSale/SpecialPrice.vue';\nimport EventList22nd from '@/components/work/22ndSale/EventList22nd.vue';\nexport default defineComponent({\n  name: \"TenTenSale\",\n  components: {\n    IntroTwentySecond,\n    BenefitComponent,\n    SpecialPrice,\n    EventList22nd\n  },\n  data() {\n    return {\n      tabs: [\n        { nameKo: '특가', nameEng: 'special' },\n        { nameKo: '혜택 이벤트', nameEng: 'event' },\n      ],\n      currentTab: 'special',\n      scrollTimer: null,\n      isSticky: false,\n      tabsOffsetTop: 0,\n      modalBody: null\n    };\n  },\n  mounted() {\n    const options = {\n      root: null,\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n    this.observer = new IntersectionObserver(this.handleScroll, options);\n    this.tabs.forEach(tab => {\n      const element = document.getElementById(tab.nameEng);\n      if (element) {\n        this.observer.observe(element);\n      }\n    });\n      const modalBodyElements = document.getElementsByClassName('modal__body')\n      if (modalBodyElements.length > 0) {\n        this.modalBody = modalBodyElements[0];\n        this.modalBody.addEventListener('scroll', this.checkSticky);\n        this.$nextTick(() => {\n\n          const tabsElement = this.$refs.tabs;\n          this.tabsOffsetTop = tabsElement.getBoundingClientRect().top + this.modalBody.scrollTop;\n        });\n      }\n  },\n  beforeUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n    if (this.modalBody) {\n      this.modalBody.removeEventListener('scroll', this.checkSticky);\n    }\n  },\n  methods: {\n    checkSticky() {\n      if (!this.modalBody) return;\n      console.log(this.isSticky)\n      const tabsElement = this.$refs.tabs;\n      // console.log(window.scrollY, '>=', tabsElement.offsetTop)\n      console.log(window)\n      if (window >= tabsElement.offsetTop) {\n        this.isSticky = true\n      } else {\n        this.isSticky = false\n      }\n    },\n    moveToSection(targetId) {\n      const element = document.getElementById(targetId);\n      if (element) {\n        element.scrollIntoView({ behavior: 'smooth' });\n      }\n    },\n    handleScroll(entries) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          this.currentTab = entry.target.id;\n        }\n      });\n    }\n  },\n})\n</script>\n\n\n<style lang=\"scss\">\n@import \"@/styles/work/tentensSale.scss\";\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}