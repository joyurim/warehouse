{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  name: \"EventList22nd\",\n  data() {\n    return {\n      itemList: [],\n      eventList: [],\n      currentPage: 1,\n      maxPerPage: 20\n    };\n  },\n  async mounted() {\n    await this.getItemList();\n    await this.getEventList();\n  },\n  methods: {\n    async getItemList() {\n      try {\n        const targetUrl = `https://gateway.10x10.co.kr/api/web/v1/event/sub-category-of-items?masterCode=31&detailCodes=0&deviceType=MOBILE`;\n        const response = await fetch(targetUrl);\n        if (response.ok) {\n          const json = await response.json();\n          if (json.status === 200) {\n            this.itemList = json.result;\n            this.itemList.slice(0, this.currentPage * this.maxPerPage);\n          }\n        } else {\n          new Error('');\n        }\n      } catch (e) {}\n    },\n    async getEventList() {\n      try {\n        const targetUrl = `https://gateway.10x10.co.kr/v1/event/apis/exhibition-event-group/31`;\n        const response = await fetch(targetUrl);\n        if (response.ok) {\n          const json = await response.json();\n          if (json.status === 200) {\n            this.eventList = json.result;\n          }\n        }\n      } catch (e) {}\n    },\n    decodeBase64(str) {\n      if (str === null) return null;\n      return atob(str.replace(/_/g, \"/\").replace(/-/g, \"+\"));\n    },\n    getDiscountPricePercentage(item) {\n      return Math.round((item.orgprice - item.sellcash) / item.orgprice * 100);\n    },\n    moveToProductPage(targetId) {\n      location.href = \"https://m.10x10.co.kr/category/category_itemPrd.asp?itemid=\" + targetId;\n    },\n    lodeMoreProduct() {\n      this.currentPage += 1;\n    },\n    goSettingPage() {\n      parent.location.href = \"https://tenten.app.link/Edx4cwoVUwb\";\n    },\n    moveToEvent(event, type) {\n      if (type === 'FORUM2') {\n        parent.location.href = `https://m.10x10.co.kr/linker/forum.asp?idx=9`;\n      } else if (event === 'NEWBENEFIT') {\n        parent.location.href = 'https://m.10x10.co.kr/newuserbenefit/index.asp#benefit02';\n      } else if (event === 'BEST') {\n        parent.location.href = 'https://m.10x10.co.kr/list/best/renewal/index2020.asp';\n      } else {\n        parent.location.href = `https://m.10x10.co.kr/event/eventmain.asp?eventid=${event}`;\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","name","data","itemList","eventList","currentPage","maxPerPage","mounted","getItemList","getEventList","methods","targetUrl","response","fetch","ok","json","status","result","slice","Error","e","decodeBase64","str","atob","replace","getDiscountPricePercentage","item","Math","round","orgprice","sellcash","moveToProductPage","targetId","location","href","lodeMoreProduct","goSettingPage","parent","moveToEvent","event","type"],"sources":["/Users/10x10/Desktop/yurim/warehouse/src/components/work/22ndSale/EventList22nd.vue"],"sourcesContent":["<template>\n  <section>\n    <article class=\"lottery\">\n      <p class=\"banner__deco\">놓치지 말고 긁어 보세요!</p>\n      <h2 class=\"banner__title--xl\">행운의 스크래치 복권</h2>\n      <div class=\"lottery__img\">\n        <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/lottery__img.png/10x10/optimize\" alt=\"복권 이미지\">\n      </div>\n      <button\n          type=\"button\"\n          class=\"btn__more\"\n          @click=\"moveToEvent(125088)\"\n      >\n        복권 긁으러 가기\n      </button>\n    </article>\n    <article id=\"Raffle\" class=\"raffle\">\n      <p class=\"banner__deco\">행운의 주인공에게는 단 220원</p>\n      <h2 class=\"banner__title--xl\">행운의 래플</h2>\n      <div class=\"raffle__container\">\n        <div class=\"raffle__inner original\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img01.png/10x10/optimize\" alt=\"행운의 래플\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img02.png/10x10/optimize\" alt=\"행운의 래플\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img03.png/10x10/optimize\" alt=\"행운의 래플\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img04.png/10x10/optimize\" alt=\"행운의 래플\">\n        </div>\n        <div class=\"raffle__inner clone\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img01.png/10x10/optimize\" alt=\"행운의 래플\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img02.png/10x10/optimize\" alt=\"행운의 래플\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img03.png/10x10/optimize\" alt=\"행운의 래플\">\n          <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/raffle__img04.png/10x10/optimize\" alt=\"행운의 래플\">\n        </div>\n      </div>\n      <button\n          type=\"button\"\n          class=\"btn__more\"\n          @click=\"moveToEvent(125089)\"\n      >\n        잊기 전에 도전하기\n      </button>\n    </article>\n    <article class=\"system\">\n      <div\n        v-for=\"event in eventList\"\n        :key=\"event.eventCode\"\n        class=\"system__banner\"\n        @click=\"moveToEvent(event.eventCode)\"\n      >\n        <img :src=\"event.bannerImage\" :alt=\"event.eventCode\" />\n      </div>\n    </article>\n    <article id=\"Goods\" class=\"goods\">\n      <div class=\"goods__inner\">\n        <p class=\"banner__deco\">행운 가득한 하루를 함께 할 텀블러!</p>\n        <h2 class=\"banner__title--xl\">22주년 기념 굿즈</h2>\n        <button\n            type=\"button\"\n            class=\"btn__more\"\n            @click=\"moveToEvent(125224)\"\n        >\n          구경이나 해볼까?\n        </button>\n      </div>\n    </article>\n    <article class=\"hbd22nd\">\n      <p class=\"banner__deco\">텐바이텐이 벌써 22주년이래!</p>\n      <h2 class=\"banner__title--xl\">HBD to tenbyten</h2>\n      <p class=\"hbd22nd__text\">축하메시지를 남겨주신 고객님들께<br/>추첨을 통해 기프트카드를 보내드려요!</p>\n\n      <button\n          type=\"button\"\n          class=\"btn__more\"\n          @click=\"moveToEvent('forum', 'FORUM2')\"\n      >\n        축하해주기\n      </button>\n    </article>\n    <article class=\"banner newbenefit\" @click=\"moveToEvent('newbenefit', 'NEWBENEFIT')\">\n      <p class=\"banner__sub\">텐바이텐이 처음이라면?</p>\n      <p class=\"banner__title\">귀여운 아이템이 1,000원!</p>\n      <img\n          src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/newbenefit__item.png/10x10/optimize\"\n          alt=\"신규회원 혜택\"\n          class=\"newbenefit__item\"\n      >\n    </article>\n    <article class=\"sale22nd\">\n      <p class=\"banner__deco\">SALE ITEM</p>\n      <h2 class=\"banner__title--xl\">세일 아이템 모아보기</h2>\n\n      <ul class=\"sale22nd__product\">\n        <li\n            v-for=\"(item, index) in itemList\"\n            class=\"product__list\"\n            @click=\"moveToProductPage(item.itemid)\"\n        >\n          <div class=\"thumbnail\">\n            <img :src=\"decodeBase64(item.itemimage)\" alt=\"item.itemname\"/>\n          </div>\n          <div class=\"product-info\">\n            <div\n                v-if=\"getDiscountPricePercentage(item) > 0\"\n                class=\"product-info__org-price\"\n            >\n              {{ item.orgprice.toLocaleString() }}\n            </div>\n            <div class=\"product-info__price\">\n\t\t\t\t\t\t\t\t<span class=\"product-info__price--sale\">\n\t\t\t\t\t\t\t\t\t{{ item.sellcash.toLocaleString() }}\n\t\t\t\t\t\t\t\t</span>\n              <span\n                  v-if=\"getDiscountPricePercentage(item) > 0\"\n                  class=\"product-info__price--discount\"\n              >\n\t\t\t\t\t\t\t\t\t{{ getDiscountPricePercentage(item) }}%\n\t\t\t\t\t\t\t\t</span>\n            </div>\n            <div class=\"product__name\">{{ item.itemname }}</div>\n          </div>\n        </li>\n      </ul>\n      <button\n          type=\"button\"\n          v-if=\"currentPage * maxPerPage < 80\"\n          class=\"sale22nd__more\"\n          @click=\"lodeMoreProduct\"\n      >\n        more\n      </button>\n    </article>\n    <!--베스트아티템-->\n    <article class=\"best22nd\" @click=\"moveToEvent('best', 'BEST')\">\n      <p class=\"banner__sub\">호감 상승하는</p>\n      <p class=\"banner__title\">베스트 아이템을 만나보세요!</p>\n    </article>\n    <article class=\"alarm\" @click=\"goSettingPage\">\n      <div class=\"alarm__img\">\n        <img src=\"//webimage.10x10.co.kr/fixevent/event/2023/tentensale/22nd/m/alarm__img.png/10x10/optimize\" alt=\"\">\n      </div>\n      <template v-if=\"isCheckedApp\">\n        <p class=\"alarm__text\">\n          <span class=\"alarm__text--point\">텐바이텐의 알림을 켜두면 </span>새로운 혜택이<br/>\n          오픈될 때 가장 빠르게 알 수 있어요.<br/>\n          지금 내 알람이 켜져 있는지 확인해보세요!\n        </p>\n        <button type=\"button\" class=\"btn__more\"\t>확인하기</button>\n      </template>\n      <template v-else>\n        <p class=\"alarm__text\">\n          <span class=\"alarm__text--point\">텐바이텐의 앱 설치</span>하고<br/>\n          편리하게 상품을 구경해 보세요!\n        </p>\n        <button type=\"button\" class=\"btn__more\"\t>APP 설치하러 가기</button>\n      </template>\n    </article>\n  </section>\n</template>\n\n<script>\nimport {defineComponent} from 'vue'\n\nexport default defineComponent({\n  name: \"EventList22nd\",\n  data() {\n    return {\n      itemList: [],\n      eventList: [],\n      currentPage: 1,\n      maxPerPage: 20\n    }\n  },\n  async mounted() {\n    await this.getItemList();\n    await this.getEventList();\n  },\n  methods: {\n    async getItemList() {\n      try {\n        const targetUrl = `https://gateway.10x10.co.kr/api/web/v1/event/sub-category-of-items?masterCode=31&detailCodes=0&deviceType=MOBILE`;\n        const response = await fetch(targetUrl);\n\n        if (response.ok) {\n          const json = await response.json();\n          if(json.status === 200) {\n            this.itemList = json.result\n            this.itemList.slice(0, this.currentPage * this.maxPerPage);\n          }\n        } else {\n          new Error('');\n        }\n      } catch (e) {\n      }\n    },\n    async getEventList() {\n      try {\n        const targetUrl = `https://gateway.10x10.co.kr/v1/event/apis/exhibition-event-group/31`;\n        const response = await fetch(targetUrl);\n        if (response.ok) {\n          const json = await response.json();\n          if (json.status === 200) {\n            this.eventList = json.result\n          }\n        }\n      } catch (e) {\n      }\n    },\n    decodeBase64(str) {\n      if (str === null) return null;\n      return atob(str.replace(/_/g, \"/\").replace(/-/g, \"+\"));\n    },\n    getDiscountPricePercentage(item) {\n      return Math.round(((item.orgprice - item.sellcash) / item.orgprice) * 100);\n    },\n    moveToProductPage(targetId) {\n        location.href = \"https://m.10x10.co.kr/category/category_itemPrd.asp?itemid=\" + targetId;\n    },\n    lodeMoreProduct() {\n      this.currentPage += 1;\n    },\n    goSettingPage() {\n        parent.location.href = \"https://tenten.app.link/Edx4cwoVUwb\";\n    },\n    moveToEvent(event, type) {\n      if (type === 'FORUM2') {\n        parent.location.href = `https://m.10x10.co.kr/linker/forum.asp?idx=9`\n      }  else if (event === 'NEWBENEFIT') {\n        parent.location.href = 'https://m.10x10.co.kr/newuserbenefit/index.asp#benefit02'\n      } else if (event === 'BEST') {\n        parent.location.href = 'https://m.10x10.co.kr/list/best/renewal/index2020.asp'\n      } else {\n        parent.location.href = `https://m.10x10.co.kr/event/eventmain.asp?eventid=${event}`\n      }\n    }\n  }\n})\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}